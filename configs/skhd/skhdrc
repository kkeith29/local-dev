:: default

:: window @
:: window_layout @
:: window_goto @

:: skhd_control @

:: firefox @

# leader for window commands
alt - space ; window

# allow access to default mode from all other modes
window, window_layout, window_goto, skhd_control, firefox < escape ; default

# allow fallback one level
window, skhd_control, firefox < return ; default
window_layout, window_goto < return ; window

# layout mode
window < l ; window_layout

# full screen
window_layout < m : open -g "rectangle://execute-action?name=maximize"; skhd -k "escape";

# center
window_layout < c : open -g "rectangle://execute-action?name=center"; skhd -k "escape";

# half
window_layout < h : open -g "rectangle://execute-action?name=left-half"
window_layout < j : open -g "rectangle://execute-action?name=bottom-half"
window_layout < k : open -g "rectangle://execute-action?name=top-half"
window_layout < l : open -g "rectangle://execute-action?name=right-half"

# third
window_layout < s : open -g "rectangle://execute-action?name=first-third"
window_layout < shift - s : open -g "rectangle://execute-action?name=first-two-thirds"
window_layout < d : open -g "rectangle://execute-action?name=center-third"
window_layout < f : open -g "rectangle://execute-action?name=last-third"
window_layout < shift - f : open -g "rectangle://execute-action?name=last-two-thirds"

# fourth
window_layout < shift - h : open -g "rectangle://execute-action?name=top-left"
window_layout < shift - j : open -g "rectangle://execute-action?name=bottom-left"
window_layout < shift - k : open -g "rectangle://execute-action?name=top-right"
window_layout < shift - l : open -g "rectangle://execute-action?name=bottom-right"

# move displays
# Key: ,/<
window_layout < 0x2B : open -g "rectangle://execute-action?name=previous-display"
# Key: ./>
window_layout < 0x2F : open -g "rectangle://execute-action?name=next-display"

# goto mode
window < g ; window_goto

# goto space shortcuts
# c = code
window_goto < c : open -a PhpStorm; skhd -k "escape";
# t = terminal
window_goto < t : open -a iTerm; skhd -k "escape";
# d = database
window_goto < d : open -a "Sequel Ace"; skhd -k "escape";
# g = git
window_goto < g : open -a Fork; skhd -k "escape";
# b = browser
window_goto < b : open -a Firefox; skhd -k "escape";
# m = messaging
window_goto < m : open -a Slack; skhd -k "escape";
# e = email
window_goto < e : open -a Mail; skhd -k "escape";
# n = notes
window_goto < n : open -a Obsidian; skhd -k "escape";

# skhd control mode
alt - s ; skhd_control

# stop/start/restart skhd
skhd_control < q : skhd --stop-service
skhd_control < s : skhd --start-service
skhd_control < r : skhd --reload
skhd_control < shift - r : skhd --restart-service

# firefox mode
alt - f ; firefox

# open new tab with proper container
firefox < 1 : /Applications/Firefox.app/Contents/MacOS/firefox --new-tab --url="ext+container:name=Personal&url=about:blank"; skhd -k "escape";
